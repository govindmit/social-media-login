{"ast":null,"code":"import axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { googleLogout } from \"@react-oauth/google\";\nimport { authHeader } from \"../../../common/authTokens\";\nimport { API } from \"../../Config/config\";\nexport const GenerateToken = async () => {\n  return await axios({\n    method: \"GET\",\n    url: `${API.authToken}`\n  }).then(request => {\n    localStorage.setItem(\"authToken\", request.data.authToken);\n  }).catch(error => {\n    return error;\n  });\n};\n_c = GenerateToken;\nexport const HandleRegister = async reqData => {\n  return await axios({\n    method: \"POST\",\n    url: `${API.register}`,\n    data: reqData,\n    headers: authHeader()\n  }).then(request => {\n    var _request$data;\n    // toast.success(\"User added\")\n    // console.log(request,\"3333333333333\")\n    if (((_request$data = request.data) === null || _request$data === void 0 ? void 0 : _request$data.loggedin_by) === '') {\n      toast.success(\"Registration Successfully\");\n    }\n    return request;\n  }).catch(error => {\n    if (error.response.status === 400) {\n      toast.error(\"Email already exists\");\n    } else if (error.response.status === 401) {\n      HandleLogout();\n    } else {\n      toast.error(\"User added failed\");\n    }\n    return error;\n  });\n};\n_c2 = HandleRegister;\nexport const HandleLogin = async reqData => {\n  return await axios({\n    method: \"POST\",\n    url: `${API.login}`,\n    data: reqData,\n    headers: authHeader()\n  }).then(request => {\n    return request;\n  }).catch(error => {\n    if (error.response.status === 400) {\n      toast.error(error.response.data);\n    } else if (error.response.status === 404) {\n      toast.error(error.response.data);\n    } else if (error.response.status === 401) {\n      HandleLogout();\n    } else {\n      toast.error(\"User added failed\");\n    }\n    return error;\n  });\n};\n_c3 = HandleLogin;\nexport const HandleLoginByGoogle = async reqData => {\n  return await axios({\n    method: \"GET\",\n    url: `https://www.googleapis.com/oauth2/v1/userinfo?access_token=${reqData.access_token}`,\n    data: reqData,\n    headers: {\n      Authorization: `Bearer ${reqData.access_token}`,\n      Accept: 'application/json'\n    }\n  }).then(request => {\n    return request;\n  }).catch(error => {\n    if (error.response.status === 400) {\n      toast.error(error.response.data);\n    } else if (error.response.status === 404) {\n      toast.error(error.response.data);\n    } else {\n      toast.error(\"Google login failed\");\n    }\n    return error;\n  });\n};\n_c4 = HandleLoginByGoogle;\nexport const HandleLogout = () => {\n  googleLogout();\n  localStorage.clear();\n  window.location.replace(\"/login\");\n  GenerateToken();\n};\n_c5 = HandleLogout;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"GenerateToken\");\n$RefreshReg$(_c2, \"HandleRegister\");\n$RefreshReg$(_c3, \"HandleLogin\");\n$RefreshReg$(_c4, \"HandleLoginByGoogle\");\n$RefreshReg$(_c5, \"HandleLogout\");","map":{"version":3,"names":["axios","toast","googleLogout","authHeader","API","GenerateToken","method","url","authToken","then","request","localStorage","setItem","data","catch","error","_c","HandleRegister","reqData","register","headers","_request$data","loggedin_by","success","response","status","HandleLogout","_c2","HandleLogin","login","_c3","HandleLoginByGoogle","access_token","Authorization","Accept","_c4","clear","window","location","replace","_c5","$RefreshReg$"],"sources":["/home/devendra/my-form-app/src/components/APIs/Auth/auth.js"],"sourcesContent":["import axios from \"axios\"\nimport { toast } from \"react-toastify\"\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { googleLogout } from \"@react-oauth/google\";\nimport { authHeader } from \"../../../common/authTokens\";\nimport { API } from \"../../Config/config\";\n\nexport const GenerateToken = async() =>{\n  return await axios({\n        method: \"GET\",\n        url: `${API.authToken}`,\n      }).then((request) => {\n        localStorage.setItem(\"authToken\", request.data.authToken)\n      }).catch((error) => {\n        return error;\n      })\n}\n\nexport const HandleRegister = async(reqData) =>{\n  return await axios({\n    method: \"POST\",\n    url: `${API.register}`,\n    data: reqData,\n    headers: authHeader(),\n  }).then((request) => {\n    // toast.success(\"User added\")\n    // console.log(request,\"3333333333333\")\n    if(request.data?.loggedin_by === ''){\n      toast.success(\"Registration Successfully\")\n    }\n      return request;\n    }).catch((error) => {\n      if(error.response.status === 400){\n        toast.error(\"Email already exists\")\n      }else if(error.response.status === 401){\n        HandleLogout()\n      }else{\n        toast.error(\"User added failed\")\n      }\n      return error;\n    })\n}\n\nexport const HandleLogin = async(reqData) =>{\n  return await axios({\n    method: \"POST\",\n    url: `${API.login}`,\n    data: reqData,\n    headers: authHeader(),\n  }).then((request) => {\n      return request;\n    }).catch((error) => {\n      if(error.response.status === 400){\n        toast.error(error.response.data)\n      }else if(error.response.status === 404){\n        toast.error(error.response.data)\n      }else if(error.response.status === 401){\n        HandleLogout()\n      }else{\n        toast.error(\"User added failed\")\n      }\n      return error;\n    })\n}\n\nexport const HandleLoginByGoogle = async(reqData) =>{\n  return await axios({\n    method: \"GET\",\n    url: `https://www.googleapis.com/oauth2/v1/userinfo?access_token=${reqData.access_token}`,\n    data: reqData,\n    headers: {\n      Authorization: `Bearer ${reqData.access_token}`,\n      Accept: 'application/json'\n  },\n  }).then((request) => {\n      return request;\n    }).catch((error) => {\n      if(error.response.status === 400){\n        toast.error(error.response.data)\n      }else if(error.response.status === 404){\n        toast.error(error.response.data)\n      }else{\n        toast.error(\"Google login failed\")\n      }\n      return error;\n    })\n}\n\nexport const HandleLogout = () => {\n  googleLogout()\n  localStorage.clear()\n  window.location.replace(\"/login\");\n  GenerateToken() \n\n};\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}